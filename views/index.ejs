<!DOCTYPE html>
<html lang="en" data-bs-theme="dark">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Crypto Data Visualization</title>
        <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    </head>
    <body style="background-image: url(https://e0.pxfuel.com/wallpapers/655/814/desktop-wallpaper-web-developer-website.jpg); font-family: sans-serif;">
        <div>
            <nav class="navbar bg-body-tertiary">
                <div class="container-fluid">
                  <span class="navbar-brand mb-0 h1">Crypto Data</span>
                </div>
              </nav>
        </div>

        <div style="background-color: #5C8374; font-family: sans-serif;">
          <nav class="navbar navbar-dark bg-dark justify-content-between">
            <a class="navbar-brand" style="color: #85E6C5; margin-left: 10px;"><h1><%- obj.name %></h1></a>
            <form class="in-line" method="post" style="margin-right: 10px;">
              <select name='selectCoin' onchange="this.form.submit()">
                  <option>Select Coin</option>
                  <option value="avalanche-2">Avalanche (AVAX)</option>
                  <option value="binancecoin">Binance (BNB)</option>
                  <option value="bitcoin">Bitcoin (BTC) </option>
                  <option value="cardano">Cardano (ADA)</option>
                  <option value="decentraland">Decentraland (MANA)</option>
                  <option value="dogecoin">Dogecoin (DOGE)</option>
                  <option value="ethereum">Ethereum (ETH)</option>
                  <option value="ripple">Ripple (XRP)</option>
                  <option value="solana">Solana (SOL)</option>
                  <option value="tether">Tether (USDT)</option>
              </select>
          </form>
          </nav>
        </div>

        <div class="container text-center" style="font-family: sans-serif;">
            <div class="row">
              <div class="col-sm-6 col-lg-2" style="margin: auto; margin-top: 10px;">
                <div class="card" style="width: 10rem; height: 7rem;">
                    <div class="card-body">
                      <h5 class="card-title">Market Cap 24 Hrs</h5>
                      <p  class="card-text" style="color: #45FFCA;"><%- obj.market_data.market_cap_change_percentage_24h %> %</p>
                    </div>
                </div>
            </div>
              <div class="col-sm-6 col-lg-2" style="margin: auto; margin-top: 10px;">
                <div class="card" style="width: 10rem; height: 7rem;">
                    <div class="card-body">
                      <h5 class="card-title">All time high</h5>
                      <p  class="card-text" style="color: #45FFCA;">$ <%- obj.market_data.ath.usd %></p>
                    </div>
                </div>
            </div>
              <div class="col-sm-6 col-lg-2" style="margin: auto; margin-top: 10px;">
                <div class="card" style="width: 10rem; height: 7rem;">
                    <div class="card-body">
                      <h5 class="card-title">Market Cap Rank</h5>
                      <p  class="card-text" style="color: #45FFCA;"><%- obj.market_cap_rank %></p>
                    </div>
                </div>
            </div>
              <div class="col-sm-6 col-lg-2" style="margin: auto; margin-top: 10px;">
                <div class="card" style="width: 10rem; height: 7rem;">
                    <div class="card-body">
                      <h5 class="card-title">Positive Sentiments</h5>
                      <p  class="card-text" style="color: #45FFCA;"><%- obj.sentiment_votes_up_percentage %> %</p>
                    </div>
                </div>
            </div>
              <div class="col-sm-6 col-lg-2" style="margin: auto; margin-top: 10px;">
                <div class="card" style="width: 10rem; height: 7rem;">
                    <div class="card-body">
                      <h5 class="card-title">High 24 Hrs</h5>
                      <p  class="card-text" style="color: greenyellow;">$ <%- obj.market_data.high_24h.usd %></p>
                    </div>
                </div>
            </div>
              <div class="col-sm-6 col-lg-2" style="margin: auto; margin-top: 10px;">
                <div class="card" style="width: 10rem; height: 7rem;">
                    <div class="card-body">
                      <h5 class="card-title">Low 24 Hrs</h5>
                      <p  class="card-text" style="color: red;">$ <%- obj.market_data.low_24h.usd %></p>
                    </div>
                </div>
            </div>
        </div>
        </div>


        <div class="text-center" style="margin-top: 1rem;">
            <div><h4>Current Price</h1></div>
            <div><h1 style="color: #8DDFCB;">$ <%- obj.market_data.current_price.usd %></h1></div>
        </div>


        
        <div class="container">
          <div class="row">
              <div class="col" id="chart1" style=" max-width: 610px;"></div>
              <div class="col" style="max-width:200px;">

                  <div class="card-body " style="margin-top: 100px;">
                      <h6 class="card-title" style="font-family: 'NHaasGroteskDSPro-65Md';"> Market Cap </h6>
                      <p class="card-text fw-bold "
                          style="font-family: 'NHaasGroteskDSPro-65Md'; color: rgb(255, 255, 255) ; font-size: small;">
                          $ <%- obj.market_data.market_cap.usd %>
                      </p>
                  </div>

                  <div class="card-body " style="margin-top: 5px;">
                      <h6 class="card-title" style="font-family: 'NHaasGroteskDSPro-65Md';"> Price Change 24hrs </h6>
                      <p class="card-text fw-bold "
                          style="font-family: 'NHaasGroteskDSPro-65Md'; color: rgb(255, 255, 255) ; font-size: small;">
                          $ <%- obj.market_data.price_change_24h_in_currency.usd %>
                      </p>
                  </div>
                  <div class="card-body " style="margin-top: 5px;">
                      <h6 class="card-title" style="font-family: 'NHaasGroteskDSPro-65Md';"> Total Volume </h6>
                      <p class="card-text fw-bold "
                          style="font-family: 'NHaasGroteskDSPro-65Md'; color: rgb(255, 255, 255) ; font-size: small;">
                          $ <%- obj.market_data.total_volume.usd %>
                      </p>
                  </div>
                  <div class="card-body " style="margin-top: 5px;">
                      <h6 class="card-title" style="font-family: 'NHaasGroteskDSPro-65Md';"> Circulating Supply</h6>
                      <p class="card-text fw-bold "
                          style="font-family: 'NHaasGroteskDSPro-65Md'; color: rgb(255, 255, 255) ; font-size: small;">
                          <%- obj.market_data["circulating_supply"] %>
                      </p>
                  </div>
                  <div class="card-body " style="margin-top: 5px;">
                      <h6 class="card-title" style="font-family: 'NHaasGroteskDSPro-65Md';"> Twitter Followers</h6>
                      <p class="card-text fw-bold "
                          style="font-family: 'NHaasGroteskDSPro-65Md'; color: rgb(255, 255, 255) ; font-size: small;">
                          <%= obj.community_data.twitter_followers %>
                      </p>
                  </div>




              </div>
              <div class="col" style=" max-width: 310px;">
                  <div id="chart2"></div>
                  <div id="chart3"></div>
              </div>


          </div>
      </div>



        
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>

      <script>

            let pData = '<%- JSON.stringify(chartObj.prices) %>'
            pData = String(pData)
            pData = JSON.parse(pData)
            var options = {
                chart: {
                    height: 400,
                    width: 600,
                    type: 'area'
                },
                grid: {
                    show: false
                },
                title: {
                    text: "Market Price (USD)",
                    style: {
                        fontSize: '14px',
                        fontWeight: 'bold',
                        color: '#00ffea'
                    }
                },
                stroke: {
                    curve: 'smooth'
                },
                series: [{
                    name: 'Market Price',
                    data: pData

                }
                ],

                xaxis: {
                    type: "datetime"
                },
                dataLabels: {
                    enabled: false
                },
                yaxis: {
                    show: false
                },
                colors: ["#00ffea", "#00ffea"],
                tooltip: {
                    y: {
                        formatter: (value) => { return value.toFixed(2) }
                    },
                    theme: "dark"
                }
            }
            var chart = new ApexCharts(document.querySelector("#chart1"), options);

            chart.render();

      </script>


      <script>

            let mData = '<%- JSON.stringify(chartObj.market_caps) %>'
            mData = String(mData)
            mData = JSON.parse(mData)
            var options = {
                chart: {
                    height: 200,
                    width: 300,
                    type: 'line'
                },
                grid: {
                    show: false
                },
                theme: {
                    mode: 'dark'
                },
                series: [{
                    name: 'Market Cap (USD)',
                    data: mData,
                }
                ],
                xaxis: {
                    type: "datetime"
                }, dataLabels: {
                    enabled: false
                },
                theme: {
                    mode: 'light',
                    palette: 'palette1',
                    monochrome: {
                        enabled: false,
                        color: '#255aee',
                        shadeTo: 'light',
                        shadeIntensity: 0.65
                    },
                }
                ,
                title: {
                    text: "Market Cap (USD)",
                    style: {
                        fontSize: '14px',
                        fontWeight: 'bold',
                        color: '#ff69f5'
                    }
                },
                yaxis: [{
                    show: false,
                }
                ],
                colors: ["#ff69f5"],
                tooltip: {
                    y: {
                        formatter: function (val) {
                            return val
                        }
                    },
                    theme: "dark"
                }
            }

            var chart = new ApexCharts(document.querySelector("#chart2"), options);

            chart.render();
        
      </script>



      <script>

            let vData = '<%- JSON.stringify(chartObj.total_volumes) %>'
            vData = String(vData)
            vData = JSON.parse(vData)
            var options = {
                chart: {
                    height: 200,
                    width: 300,
                    type: 'line'
                },
                theme: {
                    mode: 'dark'
                },
                grid: {
                    show: false
                },
                title: {
                    text: "Market Volume",
                    style: {
                        fontSize: '14px',
                        fontWeight: 'bold',
                        color: '#ffff00'
                    }
                },
                series: [{
                    name: 'Market Volume',
                    data: vData,
                }
                ],
                xaxis: {
                    type: "datetime"
                },
                dataLabels: {
                    enabled: false
                },

                yaxis: [{
                    show: false,
                }
                ],
                theme: {
                    mode: 'light',
                    palette: 'palette1',
                    monochrome: {
                        enabled: false,
                        color: '#ffffff',
                        shadeTo: 'light',
                        shadeIntensity: 0.65
                    }
                },
                colors: ["#ffff00"],
                tooltip: {
                    y: {
                        formatter: function (val) {
                            return val
                        }
                    },
                    theme: "dark"
                }
            }


            var chart = new ApexCharts(document.querySelector("#chart3"), options);

            chart.render();

      </script>



<!-- 
        <script>
            let chartData = '<%- JSON.stringify(chartObj.market_caps) %>'
            chartData = String(chartData)
            chartData = JSON.parse(chartData)

            let totData = '<%- JSON.stringify(chartObj.total_volumes) %>'
            totData = String(totData)
            totData = JSON.parse(totData)

            var options = {
                chart: {
                    height: 300,
                    width: 800,
                    type: 'line'
                },
                series: [{
                    name: 'Market Cap',
                    data: chartData,
                    type: "area"
                },
                {
                    name: 'Total Volume',
                    data: totData,
                    type: "line"
                }],
                xaxis: {
                    type: "datetime"
                }, dataLabels: {
                    enabled: false
                },
                yaxis: [
                    {
                        title: {
                        text: 'Series A',
                        },
                    },
                    {
                        opposite: true,
                        title: {
                        text: 'Series B',
                        },
                    },
                    ]
                }

                var chart = new ApexCharts(document.querySelector("#chart1"), options);

            chart.render();
        </script> -->
    </body>
</html>